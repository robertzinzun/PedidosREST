{% extends 'base.html' %}
{% block contenido %}

<div class="container">
<div class="page-header">
    <h1 class="bg-primary text-center">EDICION DE PRODUCTOS</h1>
</div>
    <form action="/productos/modificar" method="post" class="form-horizontal" enctype="multipart/form-data">
        <div class="form-group">
            <label class="control-label col-sm-2">ID:</label>
            <div class="col-sm-6">
                <input type="text" name="id" class="form-control" readonly value="{{producto.idProducto}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Nombre:</label>
            <div class="col-sm-6">
                <input type="text" name="nombre" class="form-control" required maxlength="50" value="{{producto.nombre}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Descripci√≥n:</label>
            <div class="col-sm-6">
                <input type="text" name="descripcion" class="form-control" required maxlength="100" value="{{producto.descripcion}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Precio: $</label>
            <div class="col-sm-6">
                <input type="number" name="precio" class="form-control" required min="1" value="{{producto.precio}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Existencia:</label>
            <div class="col-sm-6">
                <input type="number" name="existencia" class="form-control" required min="1" value="{{producto.existencia}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Foto:</label>
            <div class="col-sm-6">
                <a  data-toggle="modal" data-target="#myModal">
                    <span class="glyphicon glyphicon-eye-open"></span>Ver imagen
                </a>
                <input type="file" name="foto" class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Especificaciones:</label>
            <div class="col-sm-6">
                <a  data-toggle="modal" data-target="#myDoc">
                    <span class="glyphicon glyphicon-eye-open"></span>Ver documento
                </a>
                <input type="file" name="especificaciones" class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2">Categoria:</label>
            <div class="col-sm-6">
                <select name="categoria">
                    {% for cat in categorias %}
                        {% if cat.idCategoria==producto.idCategoria %}
                            <option value="{{cat.idCategoria}}" selected>{{cat.nombre}}</option>
                        {% else %}
                            <option value="{{cat.idCategoria}}">{{cat.nombre}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <a href="/productos" class="btn btn-default">
                    <span class="glyphicon glyphicon-arrow-left"></span> Regresar
                </a>
                <button type="submit" class="btn btn-default">
                    <span class="glyphicon glyphicon-floppy-disk"></span> Guardar
                </button>
            </div>
        </div>
    </form>
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Imagen de {{producto.nombre}}</h4>
          </div>
          <div class="modal-body">
              <img src="{{url_for('productos.consultarFoto',id=producto.idProducto)}}" width="400px" height="300px">
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">
                <span class="glyphicon glyphicon-ok-circle"></span> Aceptar
              </button>
          </div>
        </div>
        </div>
    </div>
    <div id="myDoc" class="modal fade" role="dialog">
        <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Documento de {{producto.nombre}}</h4>
          </div>
          <div class="modal-body">
              <embed src="{{url_for('productos.consultarDocumento', id=producto.idProducto)}}" type="application/pdf" width="100%" height="600px" scrollbar="1" toolbar="1" statusbar="1"/>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">
                <span class="glyphicon glyphicon-ok-circle"></span> Aceptar
              </button>
          </div>
        </div>
        </div>
    </div>
</div>
{% endblock %}